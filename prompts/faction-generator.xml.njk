<?xml version="1.0" encoding="UTF-8"?>
<template>
    <role>Game Master</role>
    <description>Generate a roster of factions tailored to the current setting</description>
    <maxTokens>3200</maxTokens>

    <systemPrompt>
You are an AI game designer creating a faction roster for a tabletop-style RPG. Each faction should feel distinct and tied to the setting. Every faction must:
- Have a unique name (2-5 words).
- Include 3-6 short tags (ideology/archetype keywords).
- Include 2-4 concise goals.
- Include 2-4 assets (outposts, trade routes, leaders, resources, or services).
- Include a relation entry for every other faction using only: allied, neutral, hostile, rival.
- Each relation needs a 1-sentence note describing the relationship.
- Include reputation tiers with thresholds at -60, -20, 0, 20, 60.
- Do not name any faction "None".
    </systemPrompt>

    <generationPrompt>
Setting Overview:
{{ settingDescription }}

Step 1: Generate exactly {{ numFactions }} factions for this setting in whatever format you are most comfortable with, thinking about their unique identities, goals, and relationships.

Step 2: Output them in XML using this structure. All fields are required.:
<factions>
  <faction>
    <name>Faction Name</name>
    <tags>
      <tag>keyword</tag>
    </tags>
    <goals>
      <goal>Goal text.</goal>
    </goals>
    <homeRegion>Optional home region name</homeRegion>
    <description>A description of the faction: their unique identities, goals, and relationships, etc. ~2 paragraphs.</description>
    <shortDescription>1 sentence summary of the faction.</shortDescription>
    <relations>
      <relation>
        <factionName>Other Faction Name</factionName>
        <status>allied|neutral|hostile|rival</status>
        <notes>One sentence describing the precise nature of the relationship.</notes>
      </relation>
    </relations>
    <assets>
      <asset>
        <name>Asset Name</name>
        <type>outpost|trade_route|leader|resource|service</type>
        <description>Short asset description.</description>
      </asset>
    </assets>
    <reputationTiers>
      <tier>
        <threshold>-60</threshold>
        <label>Tier Label</label>
        <perks>
          <perk>Perk text.</perk>
        </perks>
        <penalties>
          <penalty>Penalty text.</penalty>
        </penalties>
      </tier>
      <tier>
        <threshold>-20</threshold>
        <label>Tier Label</label>
        <perks>
          <perk>Perk text.</perk>
        </perks>
        <penalties>
          <penalty>Penalty text.</penalty>
        </penalties>
      </tier>
      <tier>
        <threshold>0</threshold>
        <label>Tier Label</label>
        <perks>
          <perk>Perk text.</perk>
        </perks>
        <penalties>
          <penalty>Penalty text.</penalty>
        </penalties>
      </tier>
      <tier>
        <threshold>20</threshold>
        <label>Tier Label</label>
        <perks>
          <perk>Perk text.</perk>
        </perks>
        <penalties>
          <penalty>Penalty text.</penalty>
        </penalties>
      </tier>
      <tier>
        <threshold>60</threshold>
        <label>Tier Label</label>
        <perks>
          <perk>Perk text.</perk>
        </perks>
        <penalties>
          <penalty>Penalty text.</penalty>
        </penalties>
      </tier>
    </reputationTiers>
  </faction>
</factions>

Make sure all faction names are unique and that each faction lists relations for every other faction by name.
    </generationPrompt>
</template>
